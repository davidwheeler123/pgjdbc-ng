<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="author" content="Kevin Wooten, Jesper Pedersen, Brett Wooldridge">
<link rel="icon" type="image/png" href="../../../images/ng-logo.png">
<title>PGJDBC-NG User Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
<style>
    table.tableblock {
        border-collapse: collapse;
        table-layout: fixed;
    }
</style>
</head>
<body id="user-guide" class="article toc2 toc-left">
<div id="header">
<h1>PGJDBC-NG User Guide</h1>
<div class="details">
<span id="author" class="author">Kevin Wooten, Jesper Pedersen, Brett Wooldridge</span><br>
<span id="revnumber">version 0.9-SNAPSHOT</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#overview">1. Overview</a>
<ul class="sectlevel2">
<li><a href="#overview-what-is">1.1. What is PGJDBC-NG?</a></li>
<li><a href="#overview-java-versions">1.2. Supported Java Versions</a></li>
<li><a href="#overview-getting-started">1.3. Getting Started</a>
<ul class="sectlevel3">
<li><a href="#overview-getting-started-deps">1.3.1. Dependencies</a></li>
<li><a href="#overview-getting-started-connect">1.3.2. Connecting to PostgreSQL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#connection-urls">2. Connection URLs</a>
<ul class="sectlevel2">
<li><a href="#connection-fallback">2.1. Multiple/Fallback Addresses</a>
<ul class="sectlevel3">
<li><a href="#_connection_strategy">2.1.1. Connection Strategy</a></li>
</ul>
</li>
<li><a href="#connection-unix">2.2. Unix Domain Sockets</a>
<ul class="sectlevel3">
<li><a href="#_netty_native_libraries">2.2.1. Netty Native Libraries</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#drivers">3. Available Drivers</a></li>
<li><a href="#datasources">4. Available DataSources</a>
<ul class="sectlevel2">
<li><a href="#_standard_datasource">4.1. Standard DataSource</a></li>
<li><a href="#_connection_pool_datasource">4.2. Connection Pool DataSource</a></li>
<li><a href="#_xa_datasource">4.3. XA DataSource</a></li>
</ul>
</li>
<li><a href="#auth-methods">5. Authentication Methods</a>
<ul class="sectlevel2">
<li><a href="#_password">5.1. PASSWORD</a></li>
</ul>
</li>
<li><a href="#connection-ssl">6. SSL Connections</a>
<ul class="sectlevel2">
<li><a href="#_mode">6.1. Mode</a>
<ul class="sectlevel3">
<li><a href="#_recommended">6.1.1. Recommended</a></li>
<li><a href="#_related_settings">6.1.2. Related Settings</a></li>
</ul>
</li>
<li><a href="#_client_certificate">6.2. Client Certificate</a></li>
</ul>
</li>
<li><a href="#connection-settings">7. Connection Settings</a>
<ul class="sectlevel2">
<li><a href="#_jdbc_settings">7.1. JDBC Settings</a></li>
<li><a href="#_jdbc_datasource_settings">7.2. JDBC DataSource Settings</a></li>
<li><a href="#_system_settings">7.3. System Settings</a></li>
<li><a href="#_protocol_settings">7.4. Protocol Settings</a></li>
</ul>
</li>
<li><a href="#jdbc">8. JDBC 4.2</a>
<ul class="sectlevel2">
<li><a href="#jdbc-extended-types">8.1. Using Specific PostgreSQL Types</a>
<ul class="sectlevel3">
<li><a href="#_pgtype">8.1.1. PGType</a></li>
<li><a href="#_resolving_custom_types">8.1.2. Resolving Custom Types</a></li>
</ul>
</li>
<li><a href="#jdbc-user-types">8.2. User Defined Types</a>
<ul class="sectlevel3">
<li><a href="#_java_sql_struct">8.2.1. java.sql.Struct</a></li>
<li><a href="#_java_sql_sqldata">8.2.2. java.sql.SQLData</a></li>
</ul>
</li>
<li><a href="#_arrays">8.3. Arrays</a></li>
<li><a href="#_datestimes">8.4. Dates/Times</a>
<ul class="sectlevel3">
<li><a href="#_basic_usage">8.4.1. Basic Usage</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#extensions">9. Beyond JDBC</a>
<ul class="sectlevel2">
<li><a href="#extensions-pgconnection">9.1. PGConnection</a>
<ul class="sectlevel3">
<li><a href="#extensions-pgconnection-access">9.1.1. Accessing via unwrap</a></li>
</ul>
</li>
<li><a href="#extensions-notifications">9.2. Asynchronous Notifications</a>
<ul class="sectlevel3">
<li><a href="#_filtering">9.2.1. Filtering</a></li>
</ul>
</li>
<li><a href="#extensions-copy">9.3. COPY FROM/TO</a>
<ul class="sectlevel3">
<li><a href="#extensions-copy-std">9.3.1. Standard Input &amp; Output</a></li>
<li><a href="#extensions-copy-ext">9.3.2. copyFrom / copyTo</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#logging-tracing">10. Logging &amp; Tracing</a>
<ul class="sectlevel2">
<li><a href="#logging">10.1. Logging</a>
<ul class="sectlevel3">
<li><a href="#_configuration">10.1.1. Configuration</a></li>
</ul>
</li>
<li><a href="#tracing">10.2. Tracing</a>
<ul class="sectlevel3">
<li><a href="#tracing-jdbc">10.2.1. JDBC API Level</a></li>
<li><a href="#tracing-sql">10.2.2. SQL Level</a></li>
<li><a href="#tracing-protocol">10.2.3. Protocol Level</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#udt-generator">11. UDT Generator</a>
<ul class="sectlevel2">
<li><a href="#_generation">11.1. Generation</a>
<ul class="sectlevel3">
<li><a href="#_referencingnested_types">11.1.1. Referencing/Nested Types</a></li>
</ul>
</li>
<li><a href="#_executing">11.2. Executing</a>
<ul class="sectlevel3">
<li><a href="#_cli">11.2.1. CLI</a></li>
<li><a href="#_library">11.2.2. Library</a></li>
<li><a href="#udt-generator-example">11.2.3. Example</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#spy">12. Spy JDBC Interceptor</a>
<ul class="sectlevel2">
<li><a href="#_connection_wrapping">12.1. Connection Wrapping</a>
<ul class="sectlevel3">
<li><a href="#_manual_2">12.1.1. Manual</a></li>
<li><a href="#_driver">12.1.2. Driver</a></li>
<li><a href="#_automatic">12.1.3. Automatic</a></li>
</ul>
</li>
<li><a href="#_beyond_tracing">12.2. Beyond Tracing</a></li>
</ul>
</li>
<li><a href="#_release_notes">13. Release Notes</a></li>
<li><a href="#appservers">Appendix A: Application Servers</a></li>
<li><a href="#appservers-wildfly">14. WildFly</a>
<ul class="sectlevel2">
<li><a href="#appservers-wildfly-cli-deploy">14.1. CLI Deployment</a></li>
<li><a href="#appservers-wildfly-file-deploy">14.2. File Deployment</a>
<ul class="sectlevel3">
<li><a href="#_driver_2">14.2.1. Driver</a></li>
<li><a href="#_datasource">14.2.2. DataSource</a></li>
</ul>
</li>
<li><a href="#appservers-wildfly-console-deploy">14.3. Console Deployment</a>
<ul class="sectlevel3">
<li><a href="#appservers-wildfly-console-deploy-driver">14.3.1. Driver</a></li>
<li><a href="#appservers-wildfly-console-deploy-config-ds">14.3.2. DataSource</a></li>
</ul>
</li>
<li><a href="#appservers-wildfly-trouble">14.4. Troubleshooting</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="overview">1. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The goal of this document is to provide an easy path to start using PGJDBC-NG for those people looking for
a JDBC compliant driver for PostgreSQL. It also aims to provide detailed reference documentation for those
wishing to use the advanced features of JDBC integrated with PostgreSQL.</p>
</div>
<div class="sect2">
<h3 id="overview-what-is">1.1. What is PGJDBC-NG?</h3>
<div class="paragraph">
<p>PGJDBC-NG aims to be a fully compliant JDBC driver for PostgreSQL, implementing JDBC 4.2 onwards.
The major goal of the project is to implement all the advanced features of JDBC also supported in
PostgreSQL; including composite types, arrays of primitive and composite types, asynchronous
notifications, and more.</p>
</div>
</div>
<div class="sect2">
<h3 id="overview-java-versions">1.2. Supported Java Versions</h3>
<div class="paragraph">
<p>PGJDBC-NG requires Java 8 (or higher) which equates to the JDBC 4.2 specification. Support for Java 9&#8217;s
JDBC 4.3 is forthcoming and will be backwards compatible.</p>
</div>
</div>
<div class="sect2">
<h3 id="overview-getting-started">1.3. Getting Started</h3>
<div class="sect3">
<h4 id="overview-getting-started-deps">1.3.1. Dependencies</h4>
<div class="paragraph">
<p>To use the JDBC Driver or DataSource implementation you&#8217;ll need to add the dependencies to your project or classpath.</p>
</div>
<div class="sect4">
<h5 id="_maven_style_dependencies">Maven Style Dependencies</h5>
<div class="paragraph">
<p>Adding the driver to a project built with a tool that supports maven style dependencies (e.g. Maven, Gradle, Ivy,
 etc.) only requires adding the primary dependency to your build file.</p>
</div>
<div class="sect5">
<h6 id="_maven">Maven</h6>
<div class="paragraph">
<p>For Maven simply add the dependency to your <code>pom.xml</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>com.impossibl.pgjdbc-ng<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>pgjdbc-ng<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>0.9-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_gradle">Gradle</h6>
<div class="paragraph">
<p>For Gradle the dependency is added to your <code>build.gradle</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">dependencies {
    compile "com.impossibl.pgjdbc-ng:pgjdbc-ng:0.9-SNAPSHOT"
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Using these artifacts will pull in the driver implementation and its required dependencies. If you wish
to depend on a version of the driver that embeds its dependencies you can use the artifact name
<code>pgjdbc-ng-all-0.9-SNAPSHOT.jar</code> instead; this is useful to work around dependency conflicts in certain
situations but otherwise should not be necessary.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="overview-getting-started-download">Manual Download</h5>
<div class="paragraph">
<p>If you are using a project that does not support Maven style dependencies or you wish to add the driver globally to
an application server like Glassfish, <a href="#appservers-wildfly">WildFly</a> or Tomcat you can download the dependency embedded
version of the driver and copy it to the location required by your project or usage.</p>
</div>
<div class="paragraph">
<p><a href="http://oss.sonatype.org/service/local/artifact/maven/redirect?r=snapshots&amp;g=com.impossibl.pgjdbc-ng&amp;a=pgjdbc-ng-all&amp;v=0.9-SNAPSHOT">Download JAR</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="overview-getting-started-connect">1.3.2. Connecting to PostgreSQL</h4>
<div class="paragraph">
<p>To connect to a PostgreSQL server with PGJDBC-NG you need to use one of its implementation of JDBC&#8217;s
<code>java.sql.Driver</code> or <code>javax.sql.DataSource</code> interface.  Each method has its own use cases and connection
 routine.</p>
</div>
<div class="sect4">
<h5 id="overview-getting-started-connect-driver">Using the JDBC Driver</h5>
<div class="paragraph">
<p>The simplest way to obtain a connection is by using the <code>java.sql.Driver</code> implementation and only
 requires a properly constructed URL along with a call to <code>java.sql.DriverManager</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> url = <span class="string"><span class="delimiter">&quot;</span><span class="content">jdbc:pgsql://localhost/test</span><span class="delimiter">&quot;</span></span>;  <i class="conum" data-value="1"></i><b>(1)</b>
<span class="predefined-type">String</span> user = <span class="string"><span class="delimiter">&quot;</span><span class="content">test</span><span class="delimiter">&quot;</span></span>;
<span class="predefined-type">String</span> password = <span class="string"><span class="delimiter">&quot;</span><span class="content">test</span><span class="delimiter">&quot;</span></span>;
<span class="predefined-type">Connection</span> connection = <span class="predefined-type">DriverManager</span>.getConnection(url, user, password); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>pgsql</code> requests a PGJDBC-NG connection to the server listening on <code>localhost</code>
using the default port <code>5432</code> and targeting the <code>test</code> database.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Opens a connection to the PostgreSQL server.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The URL provided in the example above is one of the simplest URLs required to make a connection. The
full URL format accepts credentials, connection settings, fallback hosts and more. <a href="#connection-urls">Connection URLs</a>
provides details about the extended format of URLs accepted by the driver.</p>
</div>
</div>
<div class="sect4">
<h5 id="overview-getting-started-connect-ds">Using the JDBC DataSource</h5>
<div class="paragraph">
<p>While using the Driver implementation can be the easiest way to connect to a server, using a
<code>javax.sql.DataSource</code> implementation can allow using enhanced features such as connection pooling
and XA transactions.</p>
</div>
<div class="paragraph">
<p>Obtaining a connection using one of the DataSource implementations is done by explicitly
 creating an instance of the DataSource and acquiring connections from it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">PGDataSource ds = <span class="keyword">new</span> PGDataSource(); <i class="conum" data-value="1"></i><b>(1)</b>
ds.setServerName(<span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="2"></i><b>(2)</b>
ds.setDatabaseName(<span class="string"><span class="delimiter">&quot;</span><span class="content">test</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="3"></i><b>(3)</b>
ds.setUser(<span class="string"><span class="delimiter">&quot;</span><span class="content">test</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="4"></i><b>(4)</b>
ds.setPassword(<span class="string"><span class="delimiter">&quot;</span><span class="content">test</span><span class="delimiter">&quot;</span></span>);

<span class="predefined-type">Connection</span> connection = ds.getConnection(); <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Creates a new instance of the standard DataSource implementation.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Sets the target of the connection to <code>localhost</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Sets the target database to <code>test</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Set the user &amp; password credentials to connect with.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Opens a connection to the PostgreSQL server.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>While the example uses the basic implementation of DataSource, there are a couple of implementations
to choose from detailed in <a href="#datasources">Available DataSources</a>.</p>
</div>
<div class="paragraph">
<p>Only the most basic properties on the DataSource implementations are demonstrated. The DataSource
provides properties for all of the settings available that control almost every aspect of vended
connections. Details of all setting available for connections is detailed in <a href="#connection-settings">Connection Settings</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Alternatively to setting individual properties as shown above, the DataSource also accepts a
connection URL like the one shown in <a href="#overview-getting-started-connect-driver">Using the JDBC Driver</a> and detailed in
<a href="#connection-urls">Connection URLs</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="connection-urls">2. Connection URLs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Connection details can be specified to both the Driver and DataSource implementations alike via an extended
URL format. The format allows specifying all required and optional details including any and all connection
settings.</p>
</div>
<div class="paragraph">
<p>PGJDBC-NG&#8217;s extended connection URL format is:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>jdbc:pgsql://&lt;user&gt;:&lt;password&gt;@&lt;addresses&gt;/&lt;database&gt;?property1=value1&amp;propertyN=valueN</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">&lt;user&gt;:&lt;password&gt;</dt>
<dd>
<p>Username &amp; password authentication credentials.</p>
</dd>
<dt class="hdlist1">&lt;addresses&gt;</dt>
<dd>
<p>Zero or more addresses that the connection targets.</p>
<div class="paragraph">
<p>An address is comprised of a hostname or IP address and an optional TCP port designation.</p>
</div>
<div class="paragraph">
<p>If zero addresses are specified, the connection defaults to using the hostname <code>localhost</code> and
PostgreSQL&#8217;s default port of <code>5432</code>. To provide zero addresses the <code>//</code> is omitted as well as in
<code>jdbc:pgsql:&lt;database&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Multiple addresses can also be specified handled in accordance with <a href="#connection-fallback">Multiple/Fallback Addresses</a>.</p>
</div>
<div class="paragraph">
<p>Finally, a special setting named <code>unixsocket</code> can be specified to target a unix domain socket
address; see <a href="#connection-unix">Unix Domain Sockets</a>.</p>
</div>
</dd>
<dt class="hdlist1">&lt;database&gt;</dt>
<dd>
<p>The name of the database the connection targets.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The database name is <em>optional</em>. When it is absent, the connection targets a database
named equivalent to the authenticated role name of the connection. To omit the databae name
and connect to the user database omit the slash preceding the name as well
(e.g. <code>jdbc:pgsql//localhost</code>).
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1">&lt;property1&gt;&#8230;&#8203;&lt;propertyN&gt;</dt>
<dd>
<p>List of connection settings specified as query properties.</p>
<div class="paragraph">
<p>The properties in the query portion of the URL can be used to specify connection settings. The
 available settings are detailed in <a href="#connection-settings">Connection Settings</a>.</p>
</div>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="connection-fallback">2.1. Multiple/Fallback Addresses</h3>
<div class="paragraph">
<p>As referenced in <a href="#connection-urls">Connection URLs</a> multiple addresses can be specified in a connection URL separated by comas.</p>
</div>
<div class="literalblock">
<div class="title">URL with 3 addresses <code>host1</code>, <code>host2:5434</code> and <code>127.0.0.1</code></div>
<div class="content">
<pre>jdbc:pgsql://host1,host2:5434,127.0.0.1/db</pre>
</div>
</div>
<div class="paragraph">
<p>Each address can be specified as an <code>IPv4</code>, <code>IPv6</code>, or DNS hostname followed by an optional TCP port. If any
address doesn&#8217;t specify a port, PostgreSQL&#8217;s default port of <code>5432</code> is used.</p>
</div>
<div class="sect3">
<h4 id="_connection_strategy">2.1.1. Connection Strategy</h4>
<div class="paragraph">
<p>When multiple addresses are present, a connection to each address is attempted in the order they were specified
until a successful connection is made or the connection fails.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Fallback addresses are only used during an initial connection attempt. In the event of a successful
connection and subsequent unexpected disconnection, no attempt is made to re-establish a connection regardless
of the presence of fallback addresses.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="connection-unix">2.2. Unix Domain Sockets</h3>
<div class="paragraph">
<p>When Netty native libraries are present the driver can connect to a PostgreSQL instance via a unix domain
socket. You specify this address using a special <code>unixsocket</code> property supplied in the URL connection
properties.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>jdbc:pgsql:&lt;database&gt;?unixsocket=/tmp</pre>
</div>
</div>
<div class="paragraph">
<p>The property accepts a directory containing a PostgreSQL unix socket (as shown above), or a specific socket
filename belonging to a PostgreSQL instance.</p>
</div>
<div class="paragraph">
<p>When specifying a directory for <code>unixsocket</code> the Driver searches the directory for a socket filename matching
PostgreSQL&#8217;s known format (e.g. <code>.s.PGSQL.5432</code>). This is a convenience to allow easy connection in the most
common case of a single running PostgreSQL instance.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
If multiple socket filenames matching PostgreSQL&#8217;s format are found the Driver will log a warning
and connect to the first matching socket filename it finds. Specifying an absolute path to a socket file will
stop logging the warning.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Only a single <code>unixsocket</code> property can be specified, although it can be combined with <a href="#connection-fallback">Multiple/Fallback Addresses</a>.
When used in a fallback configuration the unix socket address is always attempted first.</p>
</div>
<div class="sect3">
<h4 id="_netty_native_libraries">2.2.1. Netty Native Libraries</h4>
<div class="paragraph">
<p>Support for Unix Domain Sockets requires the presence of Netty&#8217;s native libraries. Visit
<a href="https://netty.io/wiki/native-transports.html">Netty&#8217;s wiki</a> for more information on how to acquire the correct
native libraries for your platform.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="drivers">3. Available Drivers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>PGJDBC-NG provides a single implementation of the JDBC <code>java.sql.Driver</code> interface.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">com.impossibl.postgres.jdbc.PGDriver</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="datasources">4. Available DataSources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Multiple DataSource implementations are provided in accordance with the JDBC specification. Each implementation
provides specific capabilities and is intended to be used for a specific purpose.</p>
</div>
<div class="sect2">
<h3 id="_standard_datasource">4.1. Standard DataSource</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">com.impossibl.postgres.jdbc.PGDataSource</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Basic DataSource implementation that provides similar functionality to that of connections vended by the Driver
implementation.</p>
</div>
<div class="paragraph">
<p>This DataSource can be used as a convenience or when a DataSource is required but neither connection pooling
or XA capabilities are also required.</p>
</div>
</div>
<div class="sect2">
<h3 id="_connection_pool_datasource">4.2. Connection Pool DataSource</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">com.impossibl.postgres.jdbc.PGConnectionPoolDataSource</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The pooling DataSource provides connections that can be reused. Reuse avoids costly connection time and
increases performance.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Although <code>PGConnectionPoolDataSource</code> is a convenient and compliant implementation of JDBC&#8217;s
<code>javax.sql.ConnectionPoolDataSource</code>, using a library specifically built to support JDBC connection pooling, in
conjunction with <code>PGDataSource</code>, will most likely yield better performance.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_xa_datasource">4.3. XA DataSource</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">com.impossibl.postgres.jdbc.xa.PGXADataSource</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>DataSource with XA support for prepared transactions and two phase commit.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Full usage of the XA capabilities provided by this DataSource require the presence of a compliant
JTA transaction manager.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="auth-methods">5. Authentication Methods</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_password">5.1. PASSWORD</h3>
<div class="paragraph">
<p>PGJDBC-NG supports the following password authentication methods offered by PostgreSQL.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PASSWORD</code></p>
</li>
<li>
<p><code>MD5</code></p>
</li>
<li>
<p><code>SCRAM-SHA-256</code> / <code>SCRAM-SHA-256-PLUS</code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>SCRAM-SHA-256-PLUS</code> is supported and automatically preferred over <code>SCRAM-SHA-256</code> when offered by the
server.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Information about PostgreSQL authentication methods can be found
<a href="https://www.postgresql.org/docs/current/auth-methods.html">here</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="connection-ssl">6. SSL Connections</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_mode">6.1. Mode</h3>
<div class="paragraph">
<p>PGJDBC-NG provides a number of SSL modes controlling how and when SSL is attempted and/or required during
connection to a PostgreSQL instance.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Available SSL connection modes</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Mode</th>
<th class="tableblock halign-left valign-top">SSL</th>
<th class="tableblock halign-left valign-top">Guarantees</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">disable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Never</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSL is not attempted and connection fails if the server requires SSL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">allow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maybe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Privacy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the server requires SSL this mode allows it, although PGJDBC-NG makes no attempt to enable it
otherwise.<br>
Upon connection, SSL certificate verification is <em>never</em> performed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">prefer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maybe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Privacy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PGJDBC-NG attempts connection using SSL but does not require it and connection will not fail it the server
does not support SSL.<br>
Upon connection, SSL certificate verification is <em>never</em> performed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">require</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Privacy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PGJDBC-NG attempts connection using SSL and fails if the server does not support SSL.<br>
Upon connection, SSL certificate verification is <em>never</em> performed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">verify-ca</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Privacy &amp; Trust</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PGJDBC-NG attempts connection using SSL and fails if the server does not support SSL.<br>
Upon connection the server&#8217;s SSL certificate is validated using a provided CA certificate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">verify-full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Privacy, Trust &amp; Verification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PGJDBC-NG attempts connection using SSL and fails if the server does not support SSL.<br>
Upon connection the server&#8217;s SSL certificate is validated using a provided CA certificate &amp; the hostname
is required to match one available in the server&#8217;s SSL certificate, ensuring it is the server we
expected.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_recommended">6.1.1. Recommended</h4>
<div class="paragraph">
<p><code>verify-full</code> is the preferred mode as it provides the most stringent requirements and is the mode most
associated with how SSL is designed to work.</p>
</div>
</div>
<div class="sect3">
<h4 id="_related_settings">6.1.2. Related Settings</h4>
<div class="paragraph">
<p>Enabling one of the SSL modes above is as easy as providing it as the <a href="#ssl_mode">ssl.mode</a> connection setting.
In addition there are a number of companion settings that provide required information depending on the chosen
mode that may need to be provided.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. SSL Modes &amp; Related Settings</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 37.5%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Mode</th>
<th class="tableblock halign-left valign-top">Server Settings</th>
<th class="tableblock halign-left valign-top">Client Settings</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">disable</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>None</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>None</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">allow</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>None</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#ssl_home-dir">ssl.home-dir</a><br>
<a href="#ssl_certificate_file">ssl.certificate.file</a><br>
<a href="#ssl_key_file">ssl.key.file</a><br>
<a href="#ssl_key_password">ssl.key.password</a><br>
<a href="#ssl_key_password_callback">ssl.key.password.callback</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">prefer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>None</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#ssl_home-dir">ssl.home-dir</a><br>
<a href="#ssl_certificate_file">ssl.certificate.file</a><br>
<a href="#ssl_key_file">ssl.key.file</a><br>
<a href="#ssl_key_password">ssl.key.password</a><br>
<a href="#ssl_key_password_callback">ssl.key.password.callback</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">require</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>None</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#ssl_home-dir">ssl.home-dir</a><br>
<a href="#ssl_certificate_file">ssl.certificate.file</a><br>
<a href="#ssl_key_file">ssl.key.file</a><br>
<a href="#ssl_key_password">ssl.key.password</a><br>
<a href="#ssl_key_password_callback">ssl.key.password.callback</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">verify-ca</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#ssl_home-dir">ssl.home-dir</a><br>
<a href="#ssl_ca_certificate_file">ssl.ca.certificate.file</a><br></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#ssl_home-dir">ssl.home-dir</a><br>
<a href="#ssl_certificate_file">ssl.certificate.file</a><br>
<a href="#ssl_key_file">ssl.key.file</a><br>
<a href="#ssl_key_password">ssl.key.password</a><br>
<a href="#ssl_key_password_callback">ssl.key.password.callback</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">verify-full</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#ssl_home-dir">ssl.home-dir</a><br>
<a href="#ssl_ca_certificate_file">ssl.ca.certificate.file</a><br></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#ssl_home-dir">ssl.home-dir</a><br>
<a href="#ssl_certificate_file">ssl.certificate.file</a><br>
<a href="#ssl_key_file">ssl.key.file</a><br>
<a href="#ssl_key_password">ssl.key.password</a><br>
<a href="#ssl_key_password_callback">ssl.key.password.callback</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_client_certificate">6.2. Client Certificate</h3>
<div class="paragraph">
<p>As shown above, in all modes <em>except</em> <code>disable</code>, when attempting an SSL connection a client certificate and
private key are searched for using the <a href="#ssl_home-dir">ssl.homedir</a>, <a href="#ssl_key_file">ssl.key.file</a>,
<a href="#ssl_key_password">ssl.key.password</a> &amp; <a href="#ssl_certificate_file">ssl.certificate.file</a> settings. If either of
the items <em>cannot</em> be located, SSL will continue to be attempted without providing the server with a client
certificate.</p>
</div>
<div class="paragraph">
<p>The server can be configured to require an SSL client certificate and connection will fail when connection is
attempted and the items are not provided to the server.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="connection-settings">7. Connection Settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>PGJDBC-NG provides a number of settings that control almost every aspect of the connection.</p>
</div>
<div class="sect2">
<h3 id="_jdbc_settings">7.1. JDBC Settings</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 44.4444%;">
<col style="width: 33.3333%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Setting</th>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="read-only"></a><strong>Read Only</strong></p>
</div>
<div class="paragraph">
<p>Connect in read-only mode</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>read-only</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getReadOnly()
setReadOnly(<span class="predefined-type">Boolean</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.read-only</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="parsed-sql_cache_size"></a><strong>Parsed SQL Cache Size</strong></p>
</div>
<div class="paragraph">
<p>Size of the parsed SQL text cache.</p>
</div>
<div class="paragraph">
<p>A value of zero disables the cache.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>parsed-sql.cache.size</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>250</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getParsedSqlCacheSize()
setParsedSqlCacheSize(<span class="predefined-type">Integer</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Must be greater than or equal to <code>0</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.parsed-sql.cache.size</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="prepared-statement_cache_size"></a><strong>Prepared Statement Cache Size</strong></p>
</div>
<div class="paragraph">
<p>Size of the prepared statement cache</p>
</div>
<div class="paragraph">
<p>A value of zero disables the cache.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>prepared-statement.cache.size</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>50</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getPreparedStatementCacheSize()
setPreparedStatementCacheSize(<span class="predefined-type">Integer</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Must be greater than or equal to <code>0</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.prepared-statement.cache.size</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="prepared-statement_cache_threshold"></a><strong>Prepared Statement Cache Threshold</strong></p>
</div>
<div class="paragraph">
<p># of times a query is seen before it is cached as a prepared statement.</p>
</div>
<div class="paragraph">
<p>A value of zero prepares all statements in advance.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>prepared-statement.cache.threshold</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getPreparedStatementCacheThreshold()
setPreparedStatementCacheThreshold(<span class="predefined-type">Integer</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Must be greater than or equal to <code>0</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.prepared-statement.cache.threshold</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="description_cache_size"></a><strong>Description Cache Size</strong></p>
</div>
<div class="paragraph">
<p>Size of the query description cache.</p>
</div>
<div class="paragraph">
<p>A value of zero disables the cache.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>description.cache.size</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>250</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getDescriptionCacheSize()
setDescriptionCacheSize(<span class="predefined-type">Integer</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Must be greater than or equal to <code>0</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.description.cache.size</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="network_timeout"></a><strong>Network Timeout</strong></p>
</div>
<div class="paragraph">
<p>Default timeout for network communication.</p>
</div>
<div class="paragraph">
<p>Value can be changed at runtime through API.</p>
</div>
<div class="paragraph">
<p>Value of zero disables the timeout.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>network.timeout</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getNetworkTimeout()
setNetworkTimeout(<span class="predefined-type">Integer</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Must be greater than or equal to <code>0</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.network.timeout</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="strict-mode"></a><strong>Strict Mode</strong></p>
</div>
<div class="paragraph">
<p>Enable or disable strict adherence to JDBC specification.</p>
</div>
<div class="paragraph">
<p>Affected behavior when disabled:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ResultSetMetaData.getColumnName(int)</code> returns a value equivalent to <code>ResultSetMetaData.getColumnLabel(int)</code>, if a label is available.</p>
</li>
<li>
<p>The <code>Statement.executeBatch(&#8230;&#8203;)</code> family of methods insert an extraneous EXECUTE_FAILED status into <code>BatchUpdateException.getUpdateCounts()</code> even though PostgreSQL stops executing at the first error.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>strict-mode</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getStrictMode()
setStrictMode(<span class="predefined-type">Boolean</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.strict-mode</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="fetch_size"></a><strong>Fetch Size</strong></p>
</div>
<div class="paragraph">
<p>Default fetch size of query results.</p>
</div>
<div class="paragraph">
<p>Value can be changed at runtime.</p>
</div>
<div class="paragraph">
<p>A value of zero disables batching results.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>fetch.size</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getFetchSize()
setFetchSize(<span class="predefined-type">Integer</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Must be greater than or equal to <code>0</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.fetch.size</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="housekeeper"></a><strong>Housekeeper</strong></p>
</div>
<div class="paragraph">
<p>Enables or disables the housekeeping system for leaked JDBC objects.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>housekeeper</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getHousekeeper()
setHousekeeper(<span class="predefined-type">Boolean</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.housekeeper</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="registry_sharing"></a><strong>Registry Sharing</strong></p>
</div>
<div class="paragraph">
<p>Enables or disables sharing type registries between connections.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>registry.sharing</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getRegistrySharing()
setRegistrySharing(<span class="predefined-type">Boolean</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.registry.sharing</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="api_trace"></a><strong>API Trace</strong></p>
</div>
<div class="paragraph">
<p>Enables or disables API trace output.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>api.trace</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getApiTrace()
setApiTrace(<span class="predefined-type">Boolean</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.api.trace</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="api_trace_file"></a><strong>API Trace File</strong></p>
</div>
<div class="paragraph">
<p>File destination of API trace output.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>api.trace</code> must be <code>true</code> to generate trace output
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>api.trace.file</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getApiTraceFile()
setApiTraceFile(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.api.trace.file</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_jdbc_datasource_settings">7.2. JDBC DataSource Settings</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 44.4444%;">
<col style="width: 33.3333%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Setting</th>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p><a id="data-source_name"></a><strong>Data Source Name</strong></p>
</div>
<div class="paragraph">
<p>Name of data source.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getDataSourceName()
setDataSourceName(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.data-source.name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p><a id="server_name"></a><strong>Server Name</strong></p>
</div>
<div class="paragraph">
<p>Host name for TCP connections.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getServerName()
setServerName(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock"><code>localhost</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.server.name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p><a id="port_number"></a><strong>Port Number</strong></p>
</div>
<div class="paragraph">
<p>Port number for TCP connections.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getPortNumber()
setPortNumber(<span class="predefined-type">Integer</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5432</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.port.number</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be between <code>1</code> and <code>65535</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p><a id="server_local-name"></a><strong>Server Local Name</strong></p>
</div>
<div class="paragraph">
<p>Unix socket name for local server connections.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getServerLocalName()
setServerLocalName(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.server.local-name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p><a id="server_addresses"></a><strong>Server Addresses</strong></p>
</div>
<div class="paragraph">
<p>Comma separated list of server addresses for which a connection will be attempted in order.</p>
</div>
<div class="paragraph">
<p>Supports providing DNS, IPv4, IPv6 &amp; Unix socket addresses. DNS &amp; IP addresses are specified in <code>host[:port]?</code> format while Unix socket addresses must contain a <code>/</code> to valid. Additionally IPv6 host names must be enclosed in <code>[]</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Specifying a list of addresses takes precedence over <code>server.name</code>, <code>port.number</code> &amp; `server.local-name' and will cause those settings to be ignored.
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getServerAddresses()
setServerAddresses(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.server.addresses</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p><a id="login_timeout"></a><strong>Login Timeout</strong></p>
</div>
<div class="paragraph">
<p>Maximum time to wait for a connection to be established.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getLoginTimeout()
setLoginTimeout(<span class="predefined-type">Integer</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.login.timeout</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be greater than or equal to <code>0</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_system_settings">7.3. System Settings</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 44.4444%;">
<col style="width: 33.3333%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Setting</th>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="database_url"></a><strong>Database URL</strong></p>
</div>
<div class="paragraph">
<p>URL of database connection</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>database.url</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getDatabaseUrl()
setDatabaseUrl(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.database.url</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="database_name"></a><strong>Database Name</strong></p>
</div>
<div class="paragraph">
<p>Name of database related to connection</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>database.name</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">Empty</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getDatabaseName()
setDatabaseName(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.database.name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="application_name"></a><strong>Application Name</strong></p>
</div>
<div class="paragraph">
<p>Name of the client application</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>application.name</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p>Driver implementation name</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getApplicationName()
setApplicationName(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.application.name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="user"></a><strong>User</strong></p>
</div>
<div class="paragraph">
<p>Username for server authentication &amp; authorization.</p>
</div>
<div class="paragraph">
<p>If no value is provided is defaults to the Java system property <code>user.name</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>user</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p>Current user via <code>user.name</code> system property</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getUser()
setUser(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.user</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="password"></a><strong>Password</strong></p>
</div>
<div class="paragraph">
<p>Password for server authentication.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>password</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">Empty</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getPassword()
setPassword(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.password</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="field_format"></a><strong>Field Format</strong></p>
</div>
<div class="paragraph">
<p>Preferred format of result fields.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>text</p>
</li>
<li>
<p>binary</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>field.format</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>binary</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getFieldFormat()
setFieldFormat(FieldFormat)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.field.format</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="field_length_max"></a><strong>Field Length Max</strong></p>
</div>
<div class="paragraph">
<p>Default maximum allowed length of field.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>field.length.max</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getFieldLengthMax()
setFieldLengthMax(<span class="predefined-type">Integer</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Must be greater than or equal to <code>0</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.field.length.max</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="param_format"></a><strong>Param Format</strong></p>
</div>
<div class="paragraph">
<p>Preferred format of prepared statement parameters.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>text</p>
</li>
<li>
<p>binary</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>param.format</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>binary</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getParamFormat()
setParamFormat(FieldFormat)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.param.format</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="money_fractional-digits"></a><strong>Money Fractional Digits</strong></p>
</div>
<div class="paragraph">
<p># of fractional digits for money fields.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>money.fractional-digits</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getMoneyFractionalDigits()
setMoneyFractionalDigits(<span class="predefined-type">Integer</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Must be between <code>0</code> and <code>20</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.money.fractional-digits</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="ssl_mode"></a><strong>SSL Mode</strong></p>
</div>
<div class="paragraph">
<p>SSL connection mode.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>disable</p>
</li>
<li>
<p>allow</p>
</li>
<li>
<p>prefer</p>
</li>
<li>
<p>require</p>
</li>
<li>
<p>verify-ca</p>
</li>
<li>
<p>verify-full</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>ssl.mode</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>disable</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getSslMode()
setSslMode(SSLMode)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.ssl.mode</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="ssl_certificate_file"></a><strong>SSL Certificate File</strong></p>
</div>
<div class="paragraph">
<p>SSL client certificate file name.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>ssl.certificate.file</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>postgresql.crt</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getSslCertificateFile()
setSslCertificateFile(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.ssl.certificate.file</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="ssl_ca_certificate_file"></a><strong>SSL CA Certificate File</strong></p>
</div>
<div class="paragraph">
<p>SSL certificate authority file name.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>ssl.ca.certificate.file</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>root.crt</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getSslCaCertificateFile()
setSslCaCertificateFile(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.ssl.ca.certificate.file</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="ssl_key_file"></a><strong>SSL Key File</strong></p>
</div>
<div class="paragraph">
<p>SSL key file name.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>ssl.key.file</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>postgresql.pk8</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getSslKeyFile()
setSslKeyFile(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.ssl.key.file</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="ssl_key_password"></a><strong>SSL Key Password</strong></p>
</div>
<div class="paragraph">
<p>SSL key file password.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>ssl.key.password</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getSslKeyPassword()
setSslKeyPassword(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.ssl.key.password</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="ssl_key_password_callback"></a><strong>SSL Key Password Callback</strong></p>
</div>
<div class="paragraph">
<p>SSL key file password callback class name.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>ssl.key.password.callback</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>com.impossibl.postgres.protocol.ssl.ConsolePasswordCallbackHandler</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getSslKeyPasswordCallback()
setSslKeyPasswordCallback(<span class="predefined-type">Class</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.ssl.key.password.callback</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="ssl_home-dir"></a><strong>SSL Home Dir</strong></p>
</div>
<div class="paragraph">
<p>Directory that SSL files are located in.</p>
</div>
<div class="paragraph">
<p>If the value begins with a path separator (e.g. <code>/</code>) it will be considered an absolute path. In all other
cases it is considered a value relative to the user&#8217;s home directory.
On Windows <code>$APPDATA</code> is used as the
home directory, all others use the <code>user.home</code> system property.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>ssl.home-dir</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>.postgresql</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getSslHomeDir()
setSslHomeDir(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.ssl.home-dir</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="sql_trace"></a><strong>SQL Trace</strong></p>
</div>
<div class="paragraph">
<p>Enables or disables SQL trace output</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>sql.trace</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getSqlTrace()
setSqlTrace(<span class="predefined-type">Boolean</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.sql.trace</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="sql_trace_file"></a><strong>SQL Trace File</strong></p>
</div>
<div class="paragraph">
<p>File destination of SQL trace output.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>sql.trace</code> must be <code>true</code> to generate trace output
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>sql.trace.file</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getSqlTraceFile()
setSqlTraceFile(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.sql.trace.file</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_protocol_settings">7.4. Protocol Settings</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 44.4444%;">
<col style="width: 33.3333%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Setting</th>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="protocol_version"></a><strong>Protocol Version</strong></p>
</div>
<div class="paragraph">
<p>Version of server protocol to use.</p>
</div>
<div class="paragraph">
<p>Valid protocol versions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>3.0</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>protocol.version</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>3.0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getProtocolVersion()
setProtocolVersion(Version)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.protocol.version</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="protocol_io_mode"></a><strong>Protocol I/O Mode</strong></p>
</div>
<div class="paragraph">
<p>I/O subsystem selection mode.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">any</dt>
<dd>
<p>Attempts to use each other subsystem in order of <code>native</code>, <code>nio</code>, <code>oio</code>.</p>
</dd>
<dt class="hdlist1">native</dt>
<dd>
<p>Native subsystem using <strong>kqueue</strong> on macOS and <strong>epoll</strong> on Linux.
Native libraries must be provided, <a href="https://netty.io/wiki/native-transports.html">see Netty&#8217;s wiki</a>.</p>
</dd>
<dt class="hdlist1">nio</dt>
<dd>
<p>Java NIO subsystem.</p>
</dd>
<dt class="hdlist1">oio</dt>
<dd>
<p>Java Blocking I/O subsystem.</p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>protocol.io.mode</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>any</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getProtocolIoMode()
setProtocolIoMode(ProtocolIOMode)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.protocol.io.mode</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="protocol_io_threads"></a><strong>Protocol I/O Threads</strong></p>
</div>
<div class="paragraph">
<p>Number of I/O threads in pool</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>protocol.io.threads</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getProtocolIoThreads()
setProtocolIoThreads(<span class="predefined-type">Integer</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Must be greater than or equal to <code>1</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.protocol.io.threads</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="protocol_encoding"></a><strong>Protocol Encoding</strong></p>
</div>
<div class="paragraph">
<p>Text encoding</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>protocol.encoding</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>UTF-8</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getProtocolEncoding()
setProtocolEncoding(<span class="predefined-type">Charset</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.protocol.encoding</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="protocol_socket_recv-buffer_size"></a><strong>Protocol Socket Receive Buffer Size</strong></p>
</div>
<div class="paragraph">
<p>Socket receive buffer size</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>protocol.socket.recv-buffer.size</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getProtocolSocketRecvBufferSize()
setProtocolSocketRecvBufferSize(<span class="predefined-type">Integer</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Must be greater than or equal to <code>0</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.protocol.socket.recv-buffer.size</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="protocol_socket_send-buffer_size"></a><strong>Protocol Socket Send Buffer Size</strong></p>
</div>
<div class="paragraph">
<p>Socket send buffer size</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>protocol.socket.send-buffer.size</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getProtocolSocketSendBufferSize()
setProtocolSocketSendBufferSize(<span class="predefined-type">Integer</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Must be greater than or equal to <code>0</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.protocol.socket.send-buffer.size</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="protocol_buffer_pooling"></a><strong>Protocol Buffer Pooling</strong></p>
</div>
<div class="paragraph">
<p>Enable or disable pooling of byte buffers</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>protocol.buffer.pooling</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getProtocolBufferPooling()
setProtocolBufferPooling(<span class="predefined-type">Boolean</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.protocol.buffer.pooling</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="protocol_message_size_max"></a><strong>Protocol Message Size Max</strong></p>
</div>
<div class="paragraph">
<p>Maximum size message that can be received</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>protocol.message.size.max</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>20971520</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getProtocolMessageSizeMax()
setProtocolMessageSizeMax(<span class="predefined-type">Integer</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="paragraph">
<p>Must be greater than or equal to <code>0</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.protocol.message.size.max</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="protocol_trace"></a><strong>Protocol Trace</strong></p>
</div>
<div class="paragraph">
<p>Enable or disable message trace output</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>protocol.trace</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getProtocolTrace()
setProtocolTrace(<span class="predefined-type">Boolean</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.protocol.trace</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p><a id="protocol_trace_file"></a><strong>Protocol Trace File</strong></p>
</div>
<div class="paragraph">
<p>File destination of message trace output</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>protocol.trace</code> must be <code>true</code> to generate trace output
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">Driver</div>
<p><code>protocol.trace.file</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="title">DataSource</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">getProtocolTraceFile()
setProtocolTraceFile(<span class="predefined-type">String</span>)</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<div class="title">System</div>
<p><code>pgjdbc.protocol.trace.file</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jdbc">8. JDBC 4.2</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are numerous JDBC books, tutorials, blogs, etc. available to learn the basics and even advanced aspects of
JDBC. As such, this section will provide details only specific to easy and efficient usage of PGJDBC-NG&#8217;s
implementation of the JDBC specification.</p>
</div>
<div class="sect2">
<h3 id="jdbc-extended-types">8.1. Using Specific PostgreSQL Types</h3>
<div class="paragraph">
<p>JDBC maps many of the stand SQL types to JDBC types and further to Java classes. Prior to JDBC 4.2 this was
done using an integer type code (available in <code>java.sql.Types</code>). This mapping proves lacking when it comes to
using many of the extended types that PostgreSQL provides.</p>
</div>
<div class="paragraph">
<p>JDBC 4.2 added a new method for specifying extended types, <code>java.sql.SQLType</code>. Most of the interfaces in JDBC
were extended to accept this new, extendable, type in place of the previous integer type code. PGJDBC-NG has
embraced this new method of using/specfiying PostgreSQL&#8217;s extended types via <code>PGType</code>.</p>
</div>
<div class="sect3">
<h4 id="_pgtype">8.1.1. PGType</h4>
<div class="paragraph">
<p>PGType is a PGJDBC-NG provided implementation of <code>java.sql.SQLType</code> and allows referencing the most common
of the specific PostgreSQL extended types using a simple enum.</p>
</div>
<div class="paragraph">
<p>PGType can be used wherever a <code>java.sql.SQLType</code> is accepted and whenever a specific PostgreSQL type is
wanted or required.</p>
</div>
<div class="listingblock">
<div class="title">Setting a parameter value, specifying PostgreSQL&#8217;s money type</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">PreparedStatement</span> pstmt = connection.prepareStatement(<span class="string"><span class="delimiter">&quot;</span><span class="content">INSERT INTO ledger(balance) VALUES (?)</span><span class="delimiter">&quot;</span></span>);
pstmt.setObject(<span class="integer">1</span>, <span class="float">113.54</span>, PGType.MONEY); <i class="conum" data-value="1"></i><b>(1)</b>
pstmt.executeUpdate();</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set a <code>float</code> with the specific column type of <code>money</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_resolving_custom_types">8.1.2. Resolving Custom Types</h4>
<div class="paragraph">
<p>As stated, PGType only handles the most common of PostgreSQL&#8217;s types. Any extended types not supported
by PGType must be handled by resolving a type name to a <code>PGAnyType</code>.</p>
</div>
<div class="paragraph">
<p><code>PGConnection</code> provides the <code>resolveType</code> method which does the resolution to a <code>PGAnyType</code> and thus
provides usable <code>SQLType</code>s.</p>
</div>
<div class="listingblock">
<div class="title">Resolving a type to a PGAnyType</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">PGConnection pgConnection = connection.unwrap(PGConnection.class); <i class="conum" data-value="1"></i><b>(1)</b>
PGAnyType myType = pgConnection.resolveType(<span class="string"><span class="delimiter">&quot;</span><span class="content">my_type</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Acquire a <code>PGConnection</code> from a standard connection (see <a href="#extensions-pgconnection-access">Accessing via unwrap</a>).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Resolve the custom type <code>my_type</code> to a <code>PGAnyType</code>.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="jdbc-user-types">8.2. User Defined Types</h3>
<div class="paragraph">
<p>PostgreSQL supports User Defined Types, what it refers to as composite types, created with the
<code>CREATE TYPE &lt;name&gt; AS (&lt;attributes&gt;)</code> DDL. These are supported in JDBC using one of two mechanisms,
the standard <code>java.sql.Struct</code> API or via custom mapped Java classes that implement <code>java.sql.SQLData</code>.</p>
</div>
<div class="sect3">
<h4 id="_java_sql_struct">8.2.1. java.sql.Struct</h4>
<div class="paragraph">
<p>PGJDBC-NG fully supports UDTs via the JDBC <code>java.sql.Struct</code> API for specifying UDT parameters
and for retrieving UDT values in from <code>ResultSet</code>s.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Strong typing on the elements returned from <code>Struct.getAttributes()</code> will only be present if the
query was run from a <code>PreparedStatement</code>. A regular <code>Statement</code> uses the text-based PostgreSQL protocol,
which will always return the values of the UDT represented as strings.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_java_sql_sqldata">8.2.2. java.sql.SQLData</h4>
<div class="paragraph">
<p>Alternatively to using the standard Struct interface to access UDTs, custom Java classes can be created
that implement the <code>java.sql.SQLData</code> interface.  PGJDBC-NG also fully supports the <code>java.sql.SQLData</code>
API.</p>
</div>
<div class="sect4">
<h5 id="_creating_custom_types">Creating custom types</h5>
<div class="paragraph">
<p>The JDBC specification <em>suggests</em> that all classes implementing <code>SQLData</code> be generated by a mechanism of the
implementation&#8217;s choosing. PGJDBC-NG supports this method using the provided <a href="#udt-generator">UDT Generator</a>, although
UDTs can also be created manually.</p>
</div>
<div class="sect5">
<h6 id="_udt_generator">UDT Generator</h6>
<div class="paragraph">
<p>Using the UDT generator requires a running PostgreSQL instance and a schema in place that provides the
types that Java classes are to be generated for.  Details about executing the UDT generator, either via the
command line interface or using it as a Java library, are available in <a href="#udt-generator">UDT Generator</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="_manual">Manual</h6>
<div class="paragraph">
<p>Manual creation of custom Java classes implementing <code>java.sql.SQLData</code> is done fairly easily but also requires
manual updates when schema changes.</p>
</div>
<div class="paragraph">
<p>Given a UDT created with the following DDL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="SQL"><span class="class">CREATE</span> TYPE address <span class="keyword">AS</span> (street <span class="predefined-type">text</span>, city <span class="predefined-type">text</span>, state <span class="predefined-type">char</span>(<span class="integer">2</span>), zip <span class="predefined-type">text</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>A simple implementation of <code>java.sql.SQLData</code> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">java.sql.SQLData</span>;

<span class="type">class</span> <span class="class">Address</span> <span class="directive">implements</span> <span class="predefined-type">SQLData</span> {

  <span class="directive">public</span> <span class="predefined-type">String</span> street;
  <span class="directive">public</span> <span class="predefined-type">String</span> city;
  <span class="directive">public</span> <span class="predefined-type">String</span> state;
  <span class="directive">public</span> <span class="predefined-type">String</span> zip;

  <span class="directive">public</span> <span class="predefined-type">String</span> getSQLTypeName() { <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">address</span><span class="delimiter">&quot;</span></span>;
  }

  <span class="directive">public</span> <span class="type">void</span> readSQL(<span class="predefined-type">SQLInput</span> stream, <span class="predefined-type">String</span> typeName) <span class="directive">throws</span> java.sql.SQLException { <i class="conum" data-value="2"></i><b>(2)</b>
    street = stream.readString();
    city = stream.readString();
    state = stream.readString();
    zip = stream.readString();
  }

  <span class="directive">public</span> <span class="type">void</span> writeSQL (<span class="predefined-type">SQLOutput</span> stream) <span class="directive">throws</span> <span class="exception">SQLException</span> { <i class="conum" data-value="3"></i><b>(3)</b>
    stream.writeString(street);
    stream.writeString(city);
    stream.writeString(state);
    stream.writeString(zip);
  }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Provides the custom type name this Java class maps to; the name can be schema qualified if necessary.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>readSQL</code> reads the attributes in definition order.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>writeSQL</code> writes the attributes in definition order.</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The implementations of <code>readSQL</code> and <code>writeSQL</code> must always read and write attributes in the order
in which they were defined in the DDL statement. After DDL updates like <code>ALTER TYPE</code> this order isn&#8217;t always
obvious and where using the <a href="#udt-generator">UDT Generator</a> can help ensure correct implementation.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_arrays">8.3. Arrays</h3>
<div class="paragraph">
<p>While there are no special requirements beyond the standard JDBC API and <code>java.sql.Array</code> for accessing the
array types provided by PostgreSQL, it is worth noting that PGJDBC-NG fully supports accessing arrays
of standard, extended and custom types.</p>
</div>
</div>
<div class="sect2">
<h3 id="_datestimes">8.4. Dates/Times</h3>
<div class="paragraph">
<p>Prior to JDBC 4.2, <code>java.sql.Time</code>, <code>java.sql.Date</code> &amp; <code>java.sql.Timestamp</code> were used to represent the associated
SQL datatypes in Java. These types have proven almost unwieldy when used in situations spanning timezones and
calendars.</p>
</div>
<div class="paragraph">
<p>JDBC 4.2 introduced supported for the new <a href="https://jcp.org/en/jsr/detail?id=310">Java Date and Time API (JSR 310)</a>
which are easy to use and provide consistent views of times and dates.</p>
</div>
<div class="paragraph">
<p>PGJDBC-NG not only fully implements this portion of the JDBC 4.2 specification, all of its Date/Time handling
is built on this library. Therefore it is suggested to skip using the JDBC Date/Time types when possible and
use the Date/Time API instead. It provides an easier to use API and the data undergoes less transformation to
arrive at a Java type.</p>
</div>
<div class="paragraph">
<p>Some simple examples are provided to detail the basic usage of JDBC with the new Date and Time API classes.
Although, to learn the full capabilities and usage of the new integration we suggest reading the relevant
portions of the JDBC API or any of the widely available tutorials.</p>
</div>
<div class="sect3">
<h4 id="_basic_usage">8.4.1. Basic Usage</h4>
<div class="paragraph">
<p>To retrieve values using the new Date and Time API you must <em>not</em> use the convenience APIs named for their
counterpart datatype, and instead use <code>getObject</code> providing the type of object you would like to receive.</p>
</div>
<div class="listingblock">
<div class="title">Retrieve a LocalDateTime from a TIMESTAMP WITHOUT TIMEZONE</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">ResultSet</span> rs = statement.getResultSet();
LocalDateTime incorrect = rs.getTimestamp(<span class="integer">1</span>).toLocalDateTime(); <i class="conum" data-value="1"></i><b>(1)</b>
LocalDateTime correct = rs.getObject(<span class="integer">1</span>, LocalDateTime.class); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><span class="red">Incorrect method using convenience API and conversion</span></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Correct method using <code>getObject</code> and no conversion.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Similarly setting values should provide the new Date and Time API object directly to the driver using
<code>setObject</code> and not use the convenience APIs.</p>
</div>
<div class="listingblock">
<div class="title">Providing LocalDateTime for a TIMESTAMP WITHOUT TIMEZONE</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">PreparedStatement</span> stmt = conn.prepareStatement(<span class="string"><span class="delimiter">&quot;</span><span class="content">INSERT INTO log VALUES (? , ?)</span><span class="delimiter">&quot;</span></span>);
stmt.setText(<span class="string"><span class="delimiter">&quot;</span><span class="content">Something happened</span><span class="delimiter">&quot;</span></span>);
stmt.setTimestamp(<span class="integer">1</span>, <span class="predefined-type">Timestamp</span>.valueOf(LocalDateTime.now())); <i class="conum" data-value="1"></i><b>(1)</b>
stmt.setObject(<span class="integer">1</span>, LocalDateTime.now()); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><span class="red">Incorrect method using convenience API and conversion</span></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Correct method using <code>setObject</code> and no conversion.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The preceding examples show usage of <code>LocalDateTime</code> but support for all of the new Date and Time API classes
is provided matching the applicable SQL datatypes as specified by JDBC.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
JDBC 4.2 does not specify support for <code>ZonedDateTime</code> in any fashion and PGJDBC-NG follows that
specification. <code>ZonedDateTime</code> must be converted to <code>OffsetDateTime</code> before begin passed to the API.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extensions">9. Beyond JDBC</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some of the functionality provided by PostgreSQL cannot be utilized via JDBC. In some cases PGJDBC-NG
has extended the JDBC API to provide access to this functionality.</p>
</div>
<div class="sect2">
<h3 id="extensions-pgconnection">9.1. PGConnection</h3>
<div class="paragraph">
<p><code>PGConnection</code> is an interface that extends <code>java.sql.Connection</code> and provides access to extended
features and functionality.</p>
</div>
<div class="paragraph">
<p>In almost all cases to access extended features and functionality you will need a reference to a
<code>PGConnection</code> instead of the standard <code>java.sql.Connection</code>.</p>
</div>
<div class="sect3">
<h4 id="extensions-pgconnection-access">9.1.1. Accessing via unwrap</h4>
<div class="paragraph">
<p>Although many times the Driver or DataSource will hand you an actual implementation of <code>PGConnection</code>
and simply casting to <code>PGConnection</code> would work, there are numerous cases where casting will <strong>not</strong>
succeed.</p>
</div>
<div class="paragraph">
<p>Thankfully JDBC provides a method to access native connections interfaces, like <code>PGConnection</code>, through
the JDBC API. That mechanism is the <code>unwrap</code> method available on the connection.</p>
</div>
<div class="listingblock">
<div class="title">Unwrapping instead of casting</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Connection</span> connection = <span class="predefined-type">DriverManager</span>.getConnection(url);
PGConnection pgConnection = (PGConnection)connection; <i class="conum" data-value="1"></i><b>(1)</b>
PGConnection pgConnection = connection.unwrap(PGConnection.class); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><span class="red">Incorrect method assuming PGConnection and casting</span></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Correct method using <code>unwrap</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Not only does using <code>unwrap</code> guarantee success (when using PGJDBC-NG) its just as easy as casting.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="extensions-notifications">9.2. Asynchronous Notifications</h3>
<div class="paragraph">
<p>PostgreSQL provides an asynchronous notification system via its
<a href="https://www.postgresql.org/docs/current/sql-listen.html">LISTEN</a> &amp;
<a href="https://www.postgresql.org/docs/current/sql-notify.html">NOTIFY</a> commands.</p>
</div>
<div class="paragraph">
<p>PGJDBC-NG provides the ability to be asynchronously notified when notifications are raised, including
the ability to filter on channel names and payload values.</p>
</div>
<div class="listingblock">
<div class="title">Simple asynchronous notification example</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java">PGConnection connection = <span class="predefined-type">DriverManager</span>.getConnection(url).unwrap(PGConnection.class); <i class="conum" data-value="1"></i><b>(1)</b>
connection.addListener(<span class="keyword">new</span> PGNotificationListener() { <i class="conum" data-value="2"></i><b>(2)</b>

  <span class="type">void</span> notification(<span class="type">int</span> processId, <span class="predefined-type">String</span> channelName, <span class="predefined-type">String</span> payload) {
    <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Received Notification: </span><span class="delimiter">&quot;</span></span> + processId + <span class="string"><span class="delimiter">&quot;</span><span class="content">, </span><span class="delimiter">&quot;</span></span> + channelName + <span class="string"><span class="delimiter">&quot;</span><span class="content">, </span><span class="delimiter">&quot;</span></span> + payload); <i class="conum" data-value="3"></i><b>(3)</b>
  }

  <span class="type">void</span> closed() { <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="comment">// initiate reconnection &amp; restart listening</span>
  }

});


<span class="predefined-type">Statement</span> stmt = connection.createStatement();
stmt.executeUpdate(<span class="string"><span class="delimiter">&quot;</span><span class="content">LISTEN msgs</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="5"></i><b>(5)</b>

stmt.executeUpdate(<span class="string"><span class="delimiter">&quot;</span><span class="content">NOTIFY msgs</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="6"></i><b>(6)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Acquire <code>PGConnection</code> to access extended functionality</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Add a notification listener to the connection.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Handle incoming notification.
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Notifications are delivered on I/O threads. Executing long or blocking operations will adversely
affect performance; it should be avoided in all cases.
</td>
</tr>
</table>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Listeners can be notified when the connection is closed unexpectedly. This allows them to reconnect and
restart listening, ensuring notifications will always be received.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Issue the <code>LISTEN</code> command to the server, this starts the server delivering notifications to this
connection.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>An example <code>NOTIFY</code> command is issued to and will be received by the handler from &lt;2&gt;</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As shown above, adding a listener only prepares PGJDBC-NG to deliver the notifications inside the
JVM, until a <code>LISTEN</code> command is issued to the server no notifications will be received.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_filtering">9.2.1. Filtering</h4>
<div class="paragraph">
<p>Notification listeners can also be added with a filter on the channel name. This allows individual listeners to
handle specific notification channels.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="extensions-copy">9.3. COPY FROM/TO</h3>
<div class="paragraph">
<p>PostgreSQL provides the capability to bulk load data from an external file, using <code>COPY &lt;table/spec&gt; FROM STDIN</code> and
to bulk save data to an external file, using <code>COPY &lt;table/spec&gt; TO STDOUT</code>.</p>
</div>
<div class="paragraph">
<p>PGJDBC-NG supports these commands using two different methods, using <a href="#extensions-copy-std">Standard Input &amp; Output</a> or
<a href="#extensions-copy-ext">copyFrom / copyTo</a>.</p>
</div>
<div class="sect3">
<h4 id="extensions-copy-std">9.3.1. Standard Input &amp; Output</h4>
<div class="paragraph">
<p>Issuing a relevant command via a <code>Statement</code> or <code>PreparedStatement</code> will read or write respectively from
Java&#8217;s <code>System.in</code> or <code>System.out</code>.</p>
</div>
<div class="paragraph">
<p>This method can be useful when redirecting the standard streams from the console or when redirecting the standard
streams via Java&#8217;s <code>System.setIn</code> or <code>System.setOut</code>.</p>
</div>
<div class="listingblock">
<div class="title">Read from redirected System.in using a Statement</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="predefined-type">System</span>.setIn(<span class="keyword">new</span> <span class="predefined-type">ByteArrayInputStream</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">1-1</span><span class="char">\t</span><span class="content">1-2</span><span class="char">\n</span><span class="content">2-1</span><span class="char">\t</span><span class="content">2-2</span><span class="char">\n</span><span class="content">3-1</span><span class="char">\t</span><span class="content">3-2</span><span class="delimiter">&quot;</span></span>.getBytes(UTF_8))); <i class="conum" data-value="1"></i><b>(1)</b>
<span class="keyword">try</span> (<span class="predefined-type">Statement</span> statement = connection.createStatement()) {
  statement.execute(<span class="string"><span class="delimiter">&quot;</span><span class="content">COPY a_table FROM STDIN</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Redirect <code>System.in</code> to a data stream in <code>COPY</code> format</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Issue the <code>COPY</code> using a standard <code>Statement</code></td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Write to redirected System.out using a Statement</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="predefined-type">System</span>.setOut(<span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">table.txt</span><span class="delimiter">&quot;</span></span>)); <i class="conum" data-value="1"></i><b>(1)</b>
<span class="keyword">try</span> (<span class="predefined-type">Statement</span> statement = connection.createStatement()) {
  statement.execute(<span class="string"><span class="delimiter">&quot;</span><span class="content">COPY a_table TO STDOUT</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Redirect <code>System.out</code> to a file stream that will receive table data in <code>COPY</code> format</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Issue the <code>COPY</code> using a standard <code>Statement</code></td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Redirecting <code>System.in</code> or <code>System.out</code> can have unwanted global ramifications. See <a href="#extensions-copy-ext">copyFrom / copyTo</a>
for a method that does not require global redirection.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="extensions-copy-ext">9.3.2. copyFrom / copyTo</h4>
<div class="paragraph">
<p>PGJDBC-NG&#8217;s <code>PGConnection</code> provides methods to issue <code>COPY</code> commands targeting provided input or output streams.
Using these methods allows specifying stream without globally redirecting the standard streams like when using
<a href="#extensions-copy-std">Standard Input &amp; Output</a>.</p>
</div>
<div class="paragraph">
<p>Although, they require access to <code>PGConnection</code>, using <code>copyFrom</code> &amp; <code>copyTo</code> are easy and thread-safe.</p>
</div>
<div class="listingblock">
<div class="title">Read from a specified stream using copyFrom</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="predefined-type">InputStream</span> tableData = <span class="keyword">new</span> <span class="predefined-type">ByteArrayInputStream</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">1-1</span><span class="char">\t</span><span class="content">1-2</span><span class="char">\n</span><span class="content">2-1</span><span class="char">\t</span><span class="content">2-2</span><span class="char">\n</span><span class="content">3-1</span><span class="char">\t</span><span class="content">3-2</span><span class="delimiter">&quot;</span></span>.getBytes(UTF_8)); <i class="conum" data-value="1"></i><b>(1)</b>
connection.unwrap(PGConnection.class).copyFrom(<span class="string"><span class="delimiter">&quot;</span><span class="content">COPY a_table FROM STDIN</span><span class="delimiter">&quot;</span></span>, tableData); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Declare a data stream in <code>COPY</code> format</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Issue the <code>COPY</code> using <code>PGConnection.copyFrom</code></td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Write to a specified stream using copyTo</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="predefined-type">OutputStream</span> fileOut = <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">table.txt</span><span class="delimiter">&quot;</span></span>)); <i class="conum" data-value="1"></i><b>(1)</b>
connection.unwrap(PGConnection.class).copyTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">COPY a_table TO STDOUT</span><span class="delimiter">&quot;</span></span>, fileOut); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Declare a file stream to receive the table data in <code>COPY</code> format</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Issue the <code>COPY</code> using <code>PGConnection.copyTo</code></td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
When using <code>copyFrom</code> the SQL command must only be a valid <code>COPY &#8230;&#8203; FROM STDIN</code> command and when using <code>copyTo</code>
the SQL command must only be a valid <code>COPY &#8230;&#8203; TO STDOUT</code>. Any other commands issued will result in an exception begin
thrown.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="logging-tracing">10. Logging &amp; Tracing</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="logging">10.1. Logging</h3>
<div class="paragraph">
<p>PGJDBC-NG uses the Java platform&#8217;s <code>java.util.logging</code> API for all of its logging.</p>
</div>
<div class="sect3">
<h4 id="_configuration">10.1.1. Configuration</h4>
<div class="paragraph">
<p>The logging configuration is done using the standard <code>java.util.logging</code> configuration method using a
<code>logging.properties</code> file.</p>
</div>
<div class="paragraph">
<p>The root logging package is <code>com.impossibl.postgres</code>, configuration of this package will control all log
messages generated by PGJDBC-NG.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
PGJDBC-NG uses logging specifically for configuration, warnings, errors and intermittent informational
messages. For more detailed inspection of the drivers activities and state, <a href="#tracing">Tracing</a> is provided.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tracing">10.2. Tracing</h3>
<div class="paragraph">
<p>PGJDBC-NG provides tracing to diagnose errors and performance problems that may arise while using connections
provided by the Driver or one of the DataSources. Tracing is managed separately from logging to allow generation
of succinct trace logs that are easy to ready, unlike logging which can be extremely verbose.</p>
</div>
<div class="paragraph">
<p>There are <strong>three</strong> distinct levels of tracing provided by PGJDBC-NG to allow inspection of specific activities
of the Driver, DataSources and Connections.</p>
</div>
<div class="sect3">
<h4 id="tracing-jdbc">10.2.1. JDBC API Level</h4>
<div class="paragraph">
<p>The JDBC API tracing provides a trace log of all user generated JDBC API calls; it specifically excludes
any calls the driver itself may make to public JDBC API. This allows investigation of what, specifically, the
driver is being asked to execute.</p>
</div>
<div class="paragraph">
<p>Each trace log entry includes the name of the API method called, all parameters (along with documentation level
names and their provided values), as well as the return value of the method.</p>
</div>
<div class="paragraph">
<p>API tracing is enabled with the <code>api.trace</code> &amp; <code>api.trace.file</code> settings. See <a href="#connection-settings">Connection Settings</a>.</p>
</div>
<div class="paragraph">
<p>API tracing is built using the <a href="#spy">Spy JDBC Interceptor</a> library provided by the PGJDBC-NG project as well.</p>
</div>
</div>
<div class="sect3">
<h4 id="tracing-sql">10.2.2. SQL Level</h4>
<div class="paragraph">
<p>SQL tracing provides a trace log of all SQL passed to the server. It is useful in determining what exactly
is sent to the server and in what order.</p>
</div>
<div class="paragraph">
<p>To honor the JDBC specification the PGJDBC-NG sometimes manipulates user provided SQL by prepending/appending
text, replacing "escapes" and more. In addition to this manipulation, sometimes SQL is generated and executed on
behalf of the user (e.g. <code>COMMIT</code> &amp; <code>ROLLBACK</code>). All of this is manipulation and generating is done <em>before</em> the
SQL trace log, therefore it provides a log of exactly what SQL is sent to the server to be executed.</p>
</div>
<div class="paragraph">
<p>Each trace log entry includes the SQL to be executed by the server as well as what operation the server is being
requested, including "preparing" SQL for execution, executing previously prepared SQL and directly executing
unprepared SQL.</p>
</div>
<div class="paragraph">
<p>SQL tracing is enabled with the <code>sql.trace</code> &amp; <code>sql.trace.file</code> settings. See <a href="#connection-settings">Connection Settings</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="tracing-protocol">10.2.3. Protocol Level</h4>
<div class="paragraph">
<p>Protocol level tracing provides a WireShark <em>inspired</em> trace log of all PostgreSQL Frontend/Backend protocol
messages passed betweeen PGJDBC-NG and the connected server.</p>
</div>
<div class="paragraph">
<p>This trace log is very compact but provides message IDs, message direction and dispatch information for all
communication with the server.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Protocol tracing is a valuable resource for low-level driver debugging but is not much use for
those who are not familiar with the underlying PostgreSQL protocol; almost everybody should stick to
JDBC &amp; SQL level tracing.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Protocol tracing is enabled with the <code>protocol.trace</code> &amp; <code>protocol.trace.file</code> settings. See <a href="#connection-settings">Connection Settings</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="udt-generator">11. UDT Generator</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Supporting SQL <strong>U</strong>ser <strong>D</strong>efined <strong>T</strong>ypes in JDBC 4.2 requires creating a POJO that implements the <code>SQLData</code>
interface. Although this is fairly straightforward it can be time consuming to keep Java objects up-to-date with a
changing SQL schema. This generator provides a simple way to generate UDT classes from an available schema.</p>
</div>
<div class="paragraph">
<p>The generator will connect to a provided database, lookup information about a provided set of UDTs and generate
the matching classes.</p>
</div>
<div class="sect2">
<h3 id="_generation">11.1. Generation</h3>
<div class="paragraph">
<p>The generator can generate <em>POJOs</em> for composite types and enum classes for enumeration types as well as mapping
to standard Java types for all other supported types.</p>
</div>
<div class="sect3">
<h4 id="_referencingnested_types">11.1.1. Referencing/Nested Types</h4>
<div class="paragraph">
<p>The generator supports generating classes for SQL types that reference/contain other SQL types.</p>
</div>
<div class="paragraph">
<p>If the referenced type(s) have POJOs or enums being generated during the same execution, the generator will use
the generated type value instead of the standard mapping.</p>
</div>
<div class="paragraph">
<p>If not, composite types will be created as <code>java.sql.Struct</code>s and enums will be created as <code>String</code>s.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_executing">11.2. Executing</h3>
<div class="paragraph">
<p>The generator can be executed multiple ways.</p>
</div>
<div class="sect3">
<h4 id="_cli">11.2.1. CLI</h4>
<div class="paragraph">
<p>To execute the generator on the command line you can use the <em>uber jar</em> as an executable JAR or by the standard
method of referencing the main class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">java -jar udt-gen-all-0.9-SNAPSHOT.jar [options] &lt;type names&gt;</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_options">Options</h5>
<div class="paragraph">
<p>To generate classes from a schema the generator needs access to a running server with the schema available and
a list of type names that it should generate classes for.</p>
</div>
<div class="sect5">
<h6 id="_generation_2">Generation</h6>
<div class="paragraph">
<p>Class generation requires a target Java package and list of types to be specified.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Class Generation Options</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 28.5714%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Short Option</th>
<th class="tableblock halign-left valign-top">Long Option</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-p</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--pkg</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target package for generated classes (Required)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--out</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output directory for generated files (defaults to <code>./out</code>)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>After all options on the command line a list of type names to generate must be provided. Each type can be
schema qualified and/or quoted as necessary for PostgreSQL&#8217;s interpretation. For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;exec generator&gt; -o ./generated/udts a_public_type public.b_public_type "MY_SCHEMA"."A_TYPE"</pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_connection">Connection</h6>
<div class="paragraph">
<p>The generator options for specifying connection properties. The database name is required all other
options can be left to their defaults.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Connection Options</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 28.5714%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Short Option</th>
<th class="tableblock halign-left valign-top">Long Option</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--url</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database connection URL (overrides name, host, port)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-D</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--database</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-H</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--host</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database server hostname (default: localhost)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-T</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database server port (default: 5432)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-U</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--user</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database username (can be used with <code>--url</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-P</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database password (can be used with <code>--url</code>)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_library">11.2.2. Library</h4>
<div class="paragraph">
<p>To use the generator as a library and execute it programmatically.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">com.impossibl.postgres.tools.UDTGenerator</span>;
<span class="keyword">import</span> <span class="include">java.sql.Connection</span>;
<span class="keyword">import</span> <span class="include">java.util.List</span>;
<span class="keyword">import</span> <span class="include">java.io.File</span>;

<span class="type">class</span> <span class="class">ExecGen</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> executeGenerator(<span class="predefined-type">Connection</span> connection, <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; typeNames) {
    <span class="keyword">new</span> UDTGenerator(connection, <span class="string"><span class="delimiter">&quot;</span><span class="content">sql.schema.types</span><span class="delimiter">&quot;</span></span>, typeNames)
        .generate(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">out</span><span class="delimiter">&quot;</span></span>));
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="udt-generator-example">11.2.3. Example</h4>
<div class="listingblock">
<div class="title">Simple VCard data types in SQL</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><span class="class">CREATE</span> TYPE title <span class="keyword">as</span> <span class="predefined-type">enum</span> (<span class="string"><span class="delimiter">'</span><span class="content">mr</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">mrs</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">ms</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">dr</span><span class="delimiter">'</span></span>);
<span class="class">CREATE</span> TYPE address <span class="keyword">as</span> (street <span class="predefined-type">text</span>, city <span class="predefined-type">text</span>, state <span class="predefined-type">char</span>(<span class="integer">2</span>), zip <span class="predefined-type">char</span>(<span class="integer">5</span>));
<span class="class">CREATE</span> TYPE v_card <span class="keyword">as</span> (id int4, name <span class="predefined-type">text</span>, title title, addresses address[]);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Generating classes for the custom SQL types above yields the following&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="title">Matching VCard Java classes</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Address</span> <span class="directive">implements</span> <span class="predefined-type">SQLData</span> {
  <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> TYPE_NAME = <span class="string"><span class="delimiter">&quot;</span><span class="content">public.address</span><span class="delimiter">&quot;</span></span>;

  <span class="directive">private</span> <span class="predefined-type">String</span> street;

  <span class="directive">private</span> <span class="predefined-type">String</span> city;

  <span class="directive">private</span> <span class="predefined-type">String</span> state;

  <span class="directive">private</span> <span class="predefined-type">String</span> zip;

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> getSQLTypeName() <span class="directive">throws</span> <span class="exception">SQLException</span> {
    <span class="keyword">return</span> TYPE_NAME;
  }

  <span class="directive">public</span> <span class="predefined-type">String</span> getStreet() {
    <span class="keyword">return</span> street;
  }

  <span class="directive">public</span> <span class="type">void</span> setStreet(<span class="predefined-type">String</span> street) {
    <span class="local-variable">this</span>.street = street;
  }

  <span class="directive">public</span> <span class="predefined-type">String</span> getCity() {
    <span class="keyword">return</span> city;
  }

  <span class="directive">public</span> <span class="type">void</span> setCity(<span class="predefined-type">String</span> city) {
    <span class="local-variable">this</span>.city = city;
  }

  <span class="directive">public</span> <span class="predefined-type">String</span> getState() {
    <span class="keyword">return</span> state;
  }

  <span class="directive">public</span> <span class="type">void</span> setState(<span class="predefined-type">String</span> state) {
    <span class="local-variable">this</span>.state = state;
  }

  <span class="directive">public</span> <span class="predefined-type">String</span> getZip() {
    <span class="keyword">return</span> zip;
  }

  <span class="directive">public</span> <span class="type">void</span> setZip(<span class="predefined-type">String</span> zip) {
    <span class="local-variable">this</span>.zip = zip;
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> readSQL(<span class="predefined-type">SQLInput</span> in, <span class="predefined-type">String</span> typeName) <span class="directive">throws</span> <span class="exception">SQLException</span> {
    <span class="local-variable">this</span>.street = in.readString();
    <span class="local-variable">this</span>.city = in.readString();
    <span class="local-variable">this</span>.state = in.readString();
    <span class="local-variable">this</span>.zip = in.readString();
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> writeSQL(<span class="predefined-type">SQLOutput</span> out) <span class="directive">throws</span> <span class="exception">SQLException</span> {
    out.writeString(<span class="local-variable">this</span>.street);
    out.writeString(<span class="local-variable">this</span>.city);
    out.writeString(<span class="local-variable">this</span>.state);
    out.writeString(<span class="local-variable">this</span>.zip);
  }
}

<span class="directive">public</span> <span class="type">enum</span> Title {
  MR(<span class="string"><span class="delimiter">&quot;</span><span class="content">mr</span><span class="delimiter">&quot;</span></span>),

  MRS(<span class="string"><span class="delimiter">&quot;</span><span class="content">mrs</span><span class="delimiter">&quot;</span></span>),

  MS(<span class="string"><span class="delimiter">&quot;</span><span class="content">ms</span><span class="delimiter">&quot;</span></span>),

  DR(<span class="string"><span class="delimiter">&quot;</span><span class="content">dr</span><span class="delimiter">&quot;</span></span>);

  <span class="directive">private</span> <span class="predefined-type">String</span> label;

  Title(<span class="predefined-type">String</span> label) {
    <span class="local-variable">this</span>.label = label;
  }

  <span class="directive">public</span> <span class="predefined-type">String</span> getLabel() {
    <span class="keyword">return</span> label;
  }

  <span class="directive">public</span> <span class="directive">static</span> Title valueOfLabel(<span class="predefined-type">String</span> label) {
    <span class="keyword">for</span> (Title value : values()) {
      <span class="keyword">if</span> (value.label.equals(label)) <span class="keyword">return</span> value;
    }
    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">IllegalArgumentException</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Invalid label</span><span class="delimiter">&quot;</span></span>);}
}


<span class="directive">public</span> <span class="type">class</span> <span class="class">VCard</span> <span class="directive">implements</span> <span class="predefined-type">SQLData</span> {
  <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> TYPE_NAME = <span class="string"><span class="delimiter">&quot;</span><span class="content">public.v_card</span><span class="delimiter">&quot;</span></span>;

  <span class="directive">private</span> <span class="predefined-type">Integer</span> id;

  <span class="directive">private</span> <span class="predefined-type">String</span> name;

  <span class="directive">private</span> Title title;

  <span class="directive">private</span> PGStruct<span class="type">[]</span> addresses;

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> getSQLTypeName() <span class="directive">throws</span> <span class="exception">SQLException</span> {
    <span class="keyword">return</span> TYPE_NAME;
  }

  <span class="directive">public</span> <span class="predefined-type">Integer</span> getId() {
    <span class="keyword">return</span> id;
  }

  <span class="directive">public</span> <span class="type">void</span> setId(<span class="predefined-type">Integer</span> id) {
    <span class="local-variable">this</span>.id = id;
  }

  <span class="directive">public</span> <span class="predefined-type">String</span> getName() {
    <span class="keyword">return</span> name;
  }

  <span class="directive">public</span> <span class="type">void</span> setName(<span class="predefined-type">String</span> name) {
    <span class="local-variable">this</span>.name = name;
  }

  <span class="directive">public</span> Title getTitle() {
    <span class="keyword">return</span> title;
  }

  <span class="directive">public</span> <span class="type">void</span> setTitle(Title title) {
    <span class="local-variable">this</span>.title = title;
  }

  <span class="directive">public</span> PGStruct<span class="type">[]</span> getAddresses() {
    <span class="keyword">return</span> addresses;
  }

  <span class="directive">public</span> <span class="type">void</span> setAddresses(PGStruct<span class="type">[]</span> addresses) {
    <span class="local-variable">this</span>.addresses = addresses;
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> readSQL(<span class="predefined-type">SQLInput</span> in, <span class="predefined-type">String</span> typeName) <span class="directive">throws</span> <span class="exception">SQLException</span> {
    <span class="local-variable">this</span>.id = in.readInt();
    <span class="local-variable">this</span>.name = in.readString();
    <span class="local-variable">this</span>.title = Title.valueOfLabel(in.readString());
    <span class="local-variable">this</span>.addresses = in.readObject(PGStruct<span class="type">[]</span>.class);
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> writeSQL(<span class="predefined-type">SQLOutput</span> out) <span class="directive">throws</span> <span class="exception">SQLException</span> {
    out.writeInt(<span class="local-variable">this</span>.id);
    out.writeString(<span class="local-variable">this</span>.name);
    out.writeString(<span class="local-variable">this</span>.title.getLabel());
    out.writeObject(<span class="local-variable">this</span>.addresses, <span class="predefined-constant">null</span>);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Objects of these Java classes can be inserted and retrieved from the database easily using
the JDBC API.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Address address = <span class="keyword">new</span> Address();        <i class="conum" data-value="1"></i><b>(1)</b>
address.setStreet(<span class="string"><span class="delimiter">&quot;</span><span class="content">123 Easy Street</span><span class="delimiter">&quot;</span></span>);
address.setCity(<span class="string"><span class="delimiter">&quot;</span><span class="content">Easy Town</span><span class="delimiter">&quot;</span></span>);
address.setState(<span class="string"><span class="delimiter">&quot;</span><span class="content">IL</span><span class="delimiter">&quot;</span></span>);
address.setZip(<span class="string"><span class="delimiter">&quot;</span><span class="content">12345</span><span class="delimiter">&quot;</span></span>);

VCard vCard = <span class="keyword">new</span> VCard();              <i class="conum" data-value="2"></i><b>(2)</b>
vCard.setId(<span class="integer">5</span>);
vCard.setTitle(Title.MR);
vCard.setName(<span class="string"><span class="delimiter">&quot;</span><span class="content">A Guy</span><span class="delimiter">&quot;</span></span>);
vCard.setAddresses(<span class="keyword">new</span> Address<span class="type">[]</span>{address});

<span class="predefined-type">PreparedStatement</span> stmt = connection.prepareStatement(<span class="string"><span class="delimiter">&quot;</span><span class="content">INSERT INTO contacts(card) VALUES (?)</span><span class="delimiter">&quot;</span></span>);
stmt.setObject(<span class="integer">1</span>, vCard); <i class="conum" data-value="3"></i><b>(3)</b>

<span class="predefined-type">Statement</span> stmt = connection.createStatement();
<span class="predefined-type">ResultSet</span> rs = stmt.executeQuery(<span class="string"><span class="delimiter">&quot;</span><span class="content">SELECT card FROM contacts;</span><span class="delimiter">&quot;</span></span>)
<span class="keyword">while</span> (rs.next()) {
  VCard vCard = (VCard) rs.getObject(<span class="integer">1</span>, VCard.class); <i class="conum" data-value="4"></i><b>(4)</b>

  <span class="predefined-type">HashMap</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Class</span>&lt;?&gt;&gt; customTypes = <span class="keyword">new</span> <span class="predefined-type">HashMap</span>&lt;&gt;(); <i class="conum" data-value="5"></i><b>(5)</b>
  customTypes.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">v_card</span><span class="delimiter">&quot;</span></span>, VCard.class);
  customTypes.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">address</span><span class="delimiter">&quot;</span></span>, Address.class);

  VCard vCard = (VCard) rs.getObject(<span class="integer">1</span>, customTypes); <i class="conum" data-value="6"></i><b>(6)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create an <code>Address</code> object.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create a <code>VCard</code> object.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Use the <code>setObject</code> method to provide a <code>VCard</code> directly to the API.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Use the <code>getObject</code> method with a specific type request to retrieve a <code>VCard</code> object.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Generate a map of SQL type names to Java class implementations, to use with &lt;4&gt;</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Use the <code>getObject</code> method with a list of type mappings to retrieve any available custom object
mapped to its Java counterpart.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spy">12. Spy JDBC Interceptor</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spy uses auto-generated relay &amp; listener classes for each JDBC API interface to provide an easy method to
intercept calls to the JDBC API. Currently it provides the JDBC API level tracing functionality for PGJDBC-NG
(see <a href="#tracing-jdbc">JDBC API Level</a>).</p>
</div>
<div class="paragraph">
<p>Although the library is used as a tracing system for PGJDBC-NG it should be able to be used with any compliant
JDBC driver.</p>
</div>
<div class="sect2">
<h3 id="_connection_wrapping">12.1. Connection Wrapping</h3>
<div class="paragraph">
<p>To use the library as a API tracing system you have three options to wrap connections and enable tracing:</p>
</div>
<div class="sect3">
<h4 id="_manual_2">12.1.1. Manual</h4>
<div class="paragraph">
<p>Manually wrapping the a connection returned from a JDBC <code>Driver</code> or <code>DataSource</code> and using the wrapped connection
as normal provides an easy way to programmatically decide when to add or disable tracing.</p>
</div>
<div class="listingblock">
<div class="title">Manually wrapping an opened connection</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Connection</span> conn = ConnectionTracer(<span class="predefined-type">DriverManager</span>.getConnection(...), FileTracer(<span class="string"><span class="delimiter">&quot;</span><span class="content">api.trace</span><span class="delimiter">&quot;</span></span>))</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_driver">12.1.2. Driver</h4>
<div class="paragraph">
<p>If you are acquiring connections using the JDBC Driver API (as opposed to the DataSource API) a more declarative
method can be used by altering the URL used to connect to your server.</p>
</div>
<div class="paragraph">
<p>Simply prepending the driver scheme of the JDBC URL with <code>:spy</code> and leaving the URL in its original form will
cause the library to automatically wrap all connections.</p>
</div>
<div class="listingblock">
<div class="title">Use special JDBC URL to enable tracing</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Connection</span> conn = <span class="predefined-type">DriverManager</span>.getConnection(<span class="string"><span class="delimiter">&quot;</span><span class="content">jdbc:spy:pgjdbc://localhost/db</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_automatic">12.1.3. Automatic</h4>
<div class="paragraph">
<p>PGJDBC-NG has built in support for tracing using the library, see <a href="#tracing-jdbc">JDBC API Level</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_beyond_tracing">12.2. Beyond Tracing</h3>
<div class="paragraph">
<p>Spy generates a Relay class and matching Listener interface for each interface in the JDBC API. To support detailed
tracing an implementation of each Listener interface is generated that produces trace output.</p>
</div>
<div class="paragraph">
<p>Due to the way its structured the library can be used to do a lot more than tracing by implementing custom
Listener interfaces and wrapping connections using one of the methods previously outlined.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_release_notes">13. Release Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Detailed release notes for each version are available <a href="../release-notes/index.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appservers">Appendix A: Application Servers</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="appservers-wildfly">14. WildFly</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://www.wildfly.org">WildFly</a> is a Java EE application server that PGJDBC-NG is compatible with for
providing access to PostgreSQL instances.</p>
</div>
<div class="paragraph">
<p>If you wish to deploy from the WildFly CLI see <a href="#appservers-wildfly-cli-deploy">CLI Deployment</a>.<br>
If you wish to deploy from the WildFly Admin Console see <a href="#appservers-wildfly-console-deploy">Console Deployment</a>.<br>
Alternatively, you can examine the sample configuration files in <a href="#appservers-wildfly-file-deploy">File Deployment</a>.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
These instructions were created using WildFly <code>15.0.1.Final</code> as a reference. Earlier or later
versions of WildFly may use slightly different commands, terminology and/or layouts, although the steps for
deployment remain similar.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="appservers-wildfly-cli-deploy">14.1. CLI Deployment</h3>
<div class="paragraph">
<p>First, use the following command to add the Driver as a module.</p>
</div>
<div class="listingblock">
<div class="title">Add the Driver Jar as a module</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="shell">module add --name=com.impossibl.pgjdbc-ng --resources=pgjdbc-ng-all-0.9-SNAPSHOT.jar --dependencies=javax.api,javax.transaction.api</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, define a named JDBC Driver.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
We provide the class names of the Standard and XA DataSource implementations so that they don&#8217;t need to be
provided each time we create a DataSource.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Add a named JDBC Driver</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="shell">/subsystem=datasources/jdbc-driver=pgjdbc-ng:add(driver-name=pgjdbc-ng, driver-module-name=com.impossibl.pgjdbc-ng, driver-datasource-class-name=com.impossibl.postgres.jdbc.PGDataSource, driver-xa-datasource-class-name=com.impossibl.postgres.jdbc.xa.PGXADataSource)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, define a Standard or XA DataSource using the named JDBC Driver</p>
</div>
<div class="listingblock">
<div class="title">Add a standard DataSource</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="shell">data-source add --name=PostgreSQLDS --jndi-name=java:jboss/PostgreSQLDS --driver-name=pgjdbc-ng --connection-url=jdbc:pgsql://localhost:5432/test --user-name=test --password=test</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Through the <code>--connection-properties</code> argument any settings available in <a href="#connection-settings">Connection Settings</a> can be provided.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Add an XA DataSource</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="shell">xa-data-source add --name=PostgreSQLXADS --jndi-name=java:jboss/PostgreSQLXADS --driver-name=pgjdbc-ng --xa-datasource-properties=[{databaseUrl=jdbc:pgsql://localhost:5432/test} --user-name=test --pasword=test</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For brevity <code>databaseUrl</code> is used here but any settings available in <a href="#connection-settings">Connection Settings</a> can be provided
in the <code>--xa-datasource-properties</code> argument.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="appservers-wildfly-file-deploy">14.2. File Deployment</h3>
<div class="paragraph">
<p>For people experienced in WildFly configuration, samples are provided of the configuration files needed
to get started using PGJDBC-NG.</p>
</div>
<div class="sect3">
<h4 id="_driver_2">14.2.1. Driver</h4>
<div class="paragraph">
<p><a href="#overview-getting-started-download">Download</a> the driver JAR file and add it as a module using the
following module definition.</p>
</div>
<div class="listingblock">
<div class="title">Driver module.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;module</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:jboss:module:1.3</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">com.impossibl.pgjdbc-ng</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;resources&gt;</span>
    <span class="tag">&lt;resource-root</span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">pgjdbc-ng-all-0.9-SNAPSHOT.jar</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/resources&gt;</span>
  <span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;module</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">javax.api</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;module</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">javax.transaction.api</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/dependencies&gt;</span>
<span class="tag">&lt;/module&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Add a definition to <code>datasources/jdbc-driver</code> subsystem.</p>
</div>
<div class="listingblock">
<div class="title">Driver Definition</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;driver</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">pgjdbc-ng</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">module</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">com.impossibl.pgjdbc-ng</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;datasource-class&gt;</span>com.impossibl.postgres.jdbc.PGXADataSource<span class="tag">&lt;/datasource-class&gt;</span>
  <span class="tag">&lt;xa-datasource-class&gt;</span>com.impossibl.postgres.jdbc.xa.PGXADataSource<span class="tag">&lt;/xa-datasource-class&gt;</span>
<span class="tag">&lt;/driver&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_datasource">14.2.2. DataSource</h4>
<div class="paragraph">
<p>Add a DataSource starting with an example definition provided.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Both standard and XA DataSource definitions are provided but only one is required based on
your use of XA capabilities.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">DataSource Definition</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;datasource</span> <span class="attribute-name">jndi-name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">java:jboss/datasources/PostgreSQLDS</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">pool-name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">PostgreSQLDS</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
   <span class="tag">&lt;connection-url&gt;</span>jdbc:pgsql://localhost:5432/test<span class="tag">&lt;/connection-url&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
   <span class="tag">&lt;connection-property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">housekeeper</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>false<span class="tag">&lt;/connection-property&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
   <span class="tag">&lt;connection-property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">parsedSqlCacheSize</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>50<span class="tag">&lt;/connection-property&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
   <span class="tag">&lt;connection-property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">preparedStatementCacheSize</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>0<span class="tag">&lt;/connection-property&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
   <span class="tag">&lt;driver&gt;</span>pgjdbc-ng<span class="tag">&lt;/driver&gt;</span>
   <span class="tag">&lt;security&gt;</span>
     <span class="tag">&lt;user-name&gt;</span>user<span class="tag">&lt;/user-name&gt;</span> <i class="conum" data-value="3"></i><b>(3)</b>
     <span class="tag">&lt;password&gt;</span>secret<span class="tag">&lt;/password&gt;</span> <i class="conum" data-value="4"></i><b>(4)</b>
   <span class="tag">&lt;/security&gt;</span>
   <span class="tag">&lt;validation&gt;</span>
     <span class="tag">&lt;validate-on-match&gt;</span>true<span class="tag">&lt;/validate-on-match&gt;</span>
     <span class="tag">&lt;valid-connection-checker</span> <span class="attribute-name">class-name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLValidConnectionChecker</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/valid-connection-checker&gt;</span>
     <span class="tag">&lt;exception-sorter</span> <span class="attribute-name">class-name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLExceptionSorter</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/exception-sorter&gt;</span>
   <span class="tag">&lt;/validation&gt;</span>
   <span class="tag">&lt;statement&gt;</span>
     <span class="tag">&lt;track-statements&gt;</span>nowarn<span class="tag">&lt;/track-statements&gt;</span>
     <span class="tag">&lt;prepared-statement-cache-size&gt;</span>32<span class="tag">&lt;/prepared-statement-cache-size&gt;</span>
   <span class="tag">&lt;/statement&gt;</span>
<span class="tag">&lt;/datasource&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A valid URL specifying your PostgreSQL instance. See <a href="#connection-urls">Connection URLs</a> for details.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Suggested properties for PGJDBC-NG with WildFly.
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Any valid <a href="#connection-settings">Connection Settings</a> can be specified here.
</td>
</tr>
</table>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Authentication username for your PostgreSQL instance.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Authentication password for your PostgreSQL instance.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">XA DataSource Connector</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;xa-datasource</span> <span class="attribute-name">jndi-name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">java:jboss/datasources/PostgreSQLXADS</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">pool-name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">PostgreSQLXADS</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
   <span class="tag">&lt;xa-datasource-property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">host</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>localhost<span class="tag">&lt;/xa-datasource-property&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
   <span class="tag">&lt;xa-datasource-property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">port</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>5432<span class="tag">&lt;/xa-datasource-property&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
   <span class="tag">&lt;xa-datasource-property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">database</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>test<span class="tag">&lt;/xa-datasource-property&gt;</span> <i class="conum" data-value="3"></i><b>(3)</b>
   <span class="tag">&lt;xa-datasource-property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">housekeeper</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>false<span class="tag">&lt;/xa-datasource-property&gt;</span> <i class="conum" data-value="4"></i><b>(4)</b>
   <span class="tag">&lt;xa-datasource-property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">parsedSqlCacheSize</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>50<span class="tag">&lt;/xa-datasource-property&gt;</span> <i class="conum" data-value="4"></i><b>(4)</b>
   <span class="tag">&lt;xa-datasource-property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">preparedStatementCacheSize</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>0<span class="tag">&lt;/xa-datasource-property&gt;</span> <i class="conum" data-value="4"></i><b>(4)</b>
   <span class="tag">&lt;driver&gt;</span>pgjdbc-ng<span class="tag">&lt;/driver&gt;</span>
   <span class="tag">&lt;security&gt;</span>
     <span class="tag">&lt;user-name&gt;</span>user<span class="tag">&lt;/user-name&gt;</span> <i class="conum" data-value="5"></i><b>(5)</b>
     <span class="tag">&lt;password&gt;</span>secret<span class="tag">&lt;/password&gt;</span> <i class="conum" data-value="6"></i><b>(6)</b>
   <span class="tag">&lt;/security&gt;</span>
   <span class="tag">&lt;validation&gt;</span>
     <span class="tag">&lt;validate-on-match&gt;</span>true<span class="tag">&lt;/validate-on-match&gt;</span>
     <span class="tag">&lt;valid-connection-checker</span> <span class="attribute-name">class-name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLValidConnectionChecker</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/valid-connection-checker&gt;</span>
     <span class="tag">&lt;exception-sorter</span> <span class="attribute-name">class-name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLExceptionSorter</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/exception-sorter&gt;</span>
   <span class="tag">&lt;/validation&gt;</span>
   <span class="tag">&lt;statement&gt;</span>
     <span class="tag">&lt;track-statements&gt;</span>nowarn<span class="tag">&lt;/track-statements&gt;</span>
     <span class="tag">&lt;prepared-statement-cache-size&gt;</span>32<span class="tag">&lt;/prepared-statement-cache-size&gt;</span>
   <span class="tag">&lt;/statement&gt;</span>
<span class="tag">&lt;/xa-datasource&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Hostname specifying your PostgreSQL instance.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Port number specifying your PostgreSQL instance.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Target Database for connections.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Suggested properties for PGJDBC-NG with WildFly.
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Any valid <a href="#connection-settings">Connection Settings</a> can be specified here.
</td>
</tr>
</table>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Authentication username for your PostgreSQL instance.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Authentication password for your PostgreSQL instance.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="appservers-wildfly-console-deploy">14.3. Console Deployment</h3>
<div class="paragraph">
<p>To following is a walk-through to use the Standard PGJDBC-NG DataSource in WildFly using the Admin Console.</p>
</div>
<div class="sect3">
<h4 id="appservers-wildfly-console-deploy-driver">14.3.1. Driver</h4>
<div class="paragraph">
<p>In the WildFly Admin Console, navigate to the "Deployments" tab and choose "Upload Deployment".</p>
</div>
<div class="paragraph">
<p>Add the <code>pgjdbc-ng-all-0.9-SNAPSHOT.jar</code> file and choose <code>Next</code>.</p>
</div>
<div class="paragraph">
<p>On the following step, ensure the "Enabled" option is selected and choose <code>Finish</code></p>
</div>
</div>
<div class="sect3">
<h4 id="appservers-wildfly-console-deploy-config-ds">14.3.2. DataSource</h4>
<div class="paragraph">
<p>In the WildFly Admin Console, visit the "Datasources &amp; Drivers" section in the "Subsystems" category of the
"Configuration" tab.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
If <a href="#appservers-wildfly-console-deploy-driver">Driver Deployment</a> was completed correctly, <code>pgjdbc-ng-all-0.9-SNAPSHOT.jar</code>
should be visible under the "Drivers" subsection.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Choose the "Datasources" subsection and choose "Add DataSource". Use the following steps to complete its
configuration.</p>
</div>
<div class="sect4">
<h5 id="appservers-wildfly-console-deploy-driver-config-ds-1">Step (1/5): Template</h5>
<div class="paragraph">
<p>Select the "Custom" option and choose <code>Next</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="appservers-wildfly-console-deploy-driver-config-ds-2">Step (2/5): Attributes</h5>
<div class="paragraph">
<p>Provide the required attributes described below, once complete choose <code>Next</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Name</dt>
<dd>
<p>Give your DataSource a name such as <code>PostgreSQL</code>. This name can be anything but should be kept short and descriptive.</p>
</dd>
<dt class="hdlist1">JNDI Name</dt>
<dd>
<p>WildFly requires JNDI Name to start with <code>java:jboss</code>, give it a name such as <code>java:jboss/datasources/PostgreSQLDS</code>.<br>
<br>
After the required prefix, <code>java:jboss</code>, the name can be any allowable freeform text; it is advisable to keep to
a name that clearly marks it as a DataSource.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="appservers-wildfly-console-deploy-driver-config-ds-3">Step (3/5): JDBC Driver</h5>
<div class="paragraph">
<p>You will need to select the deployed PGJDBC-NG driver. If
<a href="#appservers-wildfly-console-deploy-driver">Driver Deployment</a> was completed correctly, you will see the Jar file
name in the list of detected drivers.</p>
</div>
<div class="paragraph">
<p>Select <code>pgjdbc-ng-all-0.9-SNAPSHOT.jar</code> from the dropdown list, leaving the other non-required fields blank, and choose <code>Next</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you do not see the driver in the list of detected drivers ensure you enabled it during deployment as
detailed in <a href="#appservers-wildfly-console-deploy-driver">Driver Deployment</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="appservers-wildfly-console-deploy-driver-config-ds-4">Step (4/5): Connection</h5>
<div class="paragraph">
<p>Provide the connection settings described below, leaving the other non-required fields blank, once complete
choose <code>Next</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">URL</dt>
<dd>
<p>Provide a valid PGJDBC-NG connection url as in <code>jdbc:pgsql://&lt;server-name&gt;:&lt;port&gt;/&lt;databasename&gt;</code> (see
<a href="#connection-urls">Connection URLs</a> for complete details).</p>
</dd>
<dt class="hdlist1">Username</dt>
<dd>
<p>Connection authentication username.</p>
</dd>
<dt class="hdlist1">Password</dt>
<dd>
<p>Connection authentication password.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="appservers-wildfly-console-deploy-driver-config-ds-5">Step (5/5) Testing</h5>
<div class="paragraph">
<p>The final step is to test the DataSource&#8217;s ability to create connections.</p>
</div>
<div class="paragraph">
<p>Choose <code>Test Connection</code> to test and validate the provided configuration. After the configuration passes
testing, choose <code>Next</code> and finally choose <code>Finish</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If the test fails, ensure your PostgreSQL instance is running and accessible, that the values provided
in the preceeding steps are correct, and that you can make connections via PostgreSQL&#8217;s <code>pgsql</code> using the same
values.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="appservers-wildfly-trouble">14.4. Troubleshooting</h3>
<div class="paragraph">
<p>The best advice is to view the logs in the WildFly installation folder. All exceptions will be logged here and
should provide information as to the issue with your installation and/or configurations.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.9-SNAPSHOT<br>
Last updated 2024-06-03 23:41:57 UTC
</div>
</div>
</body>
</html>